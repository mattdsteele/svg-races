<!DOCTYPE html>
<html>
  <head>
    <script type="text/javascript" src="http://mbostock.github.com/d3/d3.js"></script>
    <style>
      .chart rect {
        fill: steelblue;
      }
      .chart {
        width: 100%;
      }
    </style>
  </head>
  <body>
  </body>
  <script>
    var width=600;
    var height=400;
    d3.csv('2011-eldorado-race.csv', function(data) {

    var x = d3.scale.ordinal()
    .domain(d3.range(data.length))
    .rangeBands([0,width], 0.1);
    
    var y = d3.scale.linear()
    .domain([0, 60])
    .range([0, height]);

    var svg = d3.select('body').append('svg')
      .attr('class', 'chart')
      .attr('width', width)
      .attr('height',height);

    svg.selectAll('rect')
      .data(data)
      .enter()
        .append('rect')
        .attr('x', function(d,i ) { return x(i);} )
        .attr('y', function(d) { return height - y(d.age); })
        .attr('width', x.rangeBand())
        .attr('height', function(d) { return y(d.age); });
    });
  </script>
</html>
